{"version":3,"sources":["model/evaluation.image.entity.ts"],"names":[],"mappings":";;;;;;;;;;;AAAA,qCAAiJ;AACjJ,2DAAiD;AAIjD,IAAa,eAAe,GAA5B;CAiCC,CAAA;AA9BG;IADC,gCAAsB,EAAE;;2CACd;AAKX;IAHC,gBAAM,CAAC;QACJ,MAAM,EAAE,EAAE;KACb,CAAC;;mDACiB;AAKnB;IAHC,gBAAM,CAAC;QACJ,MAAM,EAAE,GAAG;KACd,CAAC;;6CACW;AAKb;IAHC,gBAAM,CAAC;QACJ,MAAM,EAAE,EAAE;KACb,CAAC;;6CACW;AAIb;IADC,gBAAM,CAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;qDACN;AAUrB;IAPC,mBAAS,CAAC,IAAI,CAAC,EAAE,CAAC,8BAAU,EAAE,UAAU,CAAC,EAAE,CAAC,UAAU,CAAC,MAAM,EAAE;QAC5D,OAAO,EAAE,KAAK;QACd,QAAQ,EAAE,SAAS;QACnB,QAAQ,EAAE,IAAI;QACd,IAAI,EAAE,KAAK;QACX,KAAK,EAAE,KAAK;KACf,CAAC;8BACU,8BAAU;mDAAC;AAhCd,eAAe;IAD3B,gBAAM,CAAC,kBAAkB,CAAC;GACd,eAAe,CAiC3B;AAjCY,0CAAe","file":"evaluation.image.entity.js","sourcesContent":["import { Entity, PrimaryGeneratedColumn, Column, CreateDateColumn, UpdateDateColumn, OneToOne, OneToMany, ManyToOne, JoinColumn } from \"typeorm\";\nimport { Evaluation } from \"./evaluation.entity\";\n\n/* 评价图片实体类 */\n@Entity(\"evaluation_image\")\nexport class EvaluationImage {\n\n    @PrimaryGeneratedColumn()\n    id: number;\n\n    @Column({\n        length: 20\n    })\n    bucketName: string;\n\n    @Column({\n        length: 100\n    })\n    name: string;\n\n    @Column({\n        length: 20\n    })\n    type: string;\n\n    /* 为了级联保存，外键要可以为空 */\n    @Column({ nullable: true })\n    evaluationId: number;\n\n    /* 评价图片必然属于一个评价,评价删除时，图片级联删除 */\n    @ManyToOne(type => Evaluation, evaluation => evaluation.images, {\n        cascade: false,\n        onDelete: \"CASCADE\",\n        nullable: true,\n        lazy: false,\n        eager: false\n    })\n    evaluation: Evaluation;\n}\n"]}